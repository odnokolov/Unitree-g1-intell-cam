# intel_cam

üì¶ **Intel RealSense D415 + QR-–∫–æ–¥—ã**  
–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è QR-–∫–æ–¥–æ–≤ –Ω–∞ –∫–æ—Ä–æ–±–∫–∞—Ö, –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ–∑—ã (x,y,z –≤ —Å–º + yaw).  
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã:
- –≤ —Ñ–∞–π–ª–µ `box_target.json`
- –≤ UDP-–ø–∞–∫–µ—Ç–∞—Ö (JSON) –¥–ª—è –Ω–æ–¥—ã –¥–≤–∏–∂–µ–Ω–∏—è


## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
intel_cam/
‚îú‚îÄ‚îÄ .venv311/              # –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–ª–æ–∫–∞–ª—å–Ω–æ, –Ω–µ –≤ git)
‚îú‚îÄ‚îÄ box_name.txt           # –∏–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–π –∫–æ—Ä–æ–±–∫–∏
‚îú‚îÄ‚îÄ box_target.json        # JSON —Å –ø–æ–∑–æ–π –∏ yaw
‚îú‚îÄ‚îÄ diagnose_rs.py         # –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∫–∞–º–µ—Ä—ã
‚îú‚îÄ‚îÄ grab_frame.py          # —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∫–∞–¥—Ä–∞
‚îú‚îÄ‚îÄ qr_preview_target_udp.py   # ‚úÖ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç: QR + –ø–æ–∑–∞ + yaw + UDP + –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt       # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îî‚îÄ‚îÄ README.md              # –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (macOS, Python 3.11)
```bash
brew install python@3.11 librealsense cmake pkg-config git zbar

python3.11 -m venv .venv311
source .venv311/bin/activate

pip install --upgrade pip
pip install -r requirements.txt

#–∑–∞–ø—É—Å—É–∫ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä QR –∏ –ø–æ–∑—ã + UDP
sudo -E ./.venv311/bin/python qr_preview_target_udp.py \
  --name "–û—Ç–≤–µ—Ä—Ç–∫–∏" \
  --qr_size_cm 4 \
  --udp_host 127.0.0.1 \
  --udp_port 6000 \
  --ready_only \
  --pub_rate_hz 15 \
  --axis_cm 3 \
  --trail 30

	‚Ä¢	--name / --id ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ—Ä–æ–±–∫–µ (–∏–∑ QR-–ø–æ–ª—è name/id)
	‚Ä¢	--qr_size_cm ‚Äî —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä QR –Ω–∞ –∫–æ—Ä–æ–±–∫–µ
	‚Ä¢	--ready_only ‚Äî –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ü–µ–ª—å —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
	‚Ä¢	--axis_cm ‚Äî –¥–ª–∏–Ω–∞ —Ä–∏—Å—É–µ–º—ã—Ö –æ—Å–µ–π QR (—Å–º)
	‚Ä¢	--trail ‚Äî –¥–ª–∏–Ω–∞ —Ö–≤–æ—Å—Ç–∞ —Ü–µ–Ω—Ç—Ä–∞


##–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
##–ü—Ä–∏–º–µ—Ä JSON (–≤ UDP –∏ –≤ box_target.json):
{
  "stamp": "2025-09-14T09:25:46.289Z",
  "id": "BOX-003",
  "name": "–æ—Ç–≤–µ—Ä—Ç–∫–∏",
  "pose_cm_smooth": {"x_cm": 3.6, "y_cm": 8.2, "z_cm": 30.2},
  "yaw_deg_smooth": -163.5,
  "ready": true
}

##–î–æ–ø. —É—Ç–∏–ª–∏—Ç—ã
	‚Ä¢	grab_frame.py ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–¥–∏–Ω –∫–∞–¥—Ä —Å –∫–∞–º–µ—Ä—ã (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
	‚Ä¢	diagnose_rs.py ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã


---




üëâ –¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –ø–æ–ª–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Ç: –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.  
